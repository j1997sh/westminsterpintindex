<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Westminster Pint Index</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<header id="header">
  <h1>Westminster Pint Index</h1>
  <div id="ticker"></div>
</header>

<!-- HERO: Cheapest Pint -->
<section id="hero">
  <div id="heroContent">Loadingâ€¦</div>
</section>

<!-- ADD DATA -->
<section class="section-title">â• Add Data</section>

<div class="flex-row">
  <div class="card">
    <h2>ğŸ›ï¸ Add Pub</h2>
    <input id="pubName" placeholder="Pub name">
    <input id="pubAddress" placeholder="Address">
    <button id="addPubBtn">Add Pub</button>
  </div>

  <div class="card">
    <h2>ğŸº Add Pint Type</h2>
    <input id="pintName" placeholder="Pint name">
    <input id="pintCategory" placeholder="Category (e.g., Lager)">
    <button id="addPintBtn">Add Pint</button>
  </div>
</div>

<div class="card">
  <h2>ğŸ’· Add Pint Price</h2>
  <select id="pricePubSelect"></select>
  <select id="pricePintSelect"></select>
  <input id="pintPrice" type="number" step="0.01" placeholder="Price (Â£)">
  <button id="addPriceBtn">Submit Price</button>
</div>

<!-- DASHBOARD -->
<section class="section-title">ğŸ“Š Pint Dashboard</section>

<div class="flex-row">
  <div class="card">
    <h2>ğŸ“ˆ Pint Index</h2>
    <div id="ppiOutput" class="big-number"></div>
  </div>

  <div class="card collapsible">
    <h2 class="collapse-toggle">ğŸ”¥ Popularity <span>â–¼</span></h2>
    <div id="popularityChartContainer" class="collapsed-content"></div>
  </div>
</div>

<!-- MARKET PRICES -->
<div class="card">
  <h2>ğŸ“‰ Market Prices (League Table)</h2>
  <table id="marketTable">
    <thead>
      <tr><th>#</th><th>Pint</th><th>Pub</th><th>Â£</th></tr>
    </thead>
    <tbody id="marketTableBody"></tbody>
  </table>
  <button id="expandTableBtn" class="btn-secondary">Show Full Table â–¼</button>
</div>

<!-- PRICE DISTRIBUTION -->
<div class="card">
  <h2>ğŸ“Š Price Distribution</h2>
  <div id="priceDistribution"></div>
</div>

<!-- TOP 5 CHEAPEST PUBS -->
<div class="card">
  <h2>ğŸ† Top 5 Cheapest Pubs</h2>
  <div id="cheapestPubs"></div>
</div>

<!-- RECOMMENDATIONS -->
<div class="card">
  <h2>â­ Recommended for You</h2>
  <div id="recommendations"></div>
</div>

<!-- NEW TOOL: Cheapest Pint Selector -->
<div class="card">
  <h2>ğŸ” Where is the Cheapestâ€¦?</h2>
  <select id="cheapestSelect"></select>
  <button id="findCheapestBtn">Find Cheapest</button>
  <div id="cheapestResult"></div>
</div>

<!-- BUDGET PLANNER -->
<div class="card">
  <h2>ğŸ’° Budget Planner</h2>
  <input id="budgetInput" type="number" placeholder="Enter Â£ budget">
  <button id="budgetBtn">Calculate</button>
  <div id="budgetOutput"></div>
</div>

<!-- RARE PINTS -->
<div class="card">
  <h2>ğŸŒŸ Rare Pints</h2>
  <div id="rarePints"></div>
</div>

<!-- ADMIN -->
<div id="adminToggle">Admin</div>

<div id="adminPanel" class="card" style="display:none;">
  <h2>ğŸ” Admin Login</h2>
  <input id="adminCodeInput" placeholder="Enter admin password">
  <button id="adminUnlockBtn">Unlock</button>
</div>

<div id="adminTools" class="card" style="display:none;">
  <h2>âš ï¸ Admin Tools</h2>
  <button id="wipePricesBtn" class="danger">Wipe Price Data</button>
  <button id="wipeAllBtn" class="danger">Wipe ALL Data</button>
</div>

<footer>Westminster Pint Index Â© 2025</footer>

<script type="module" src="firebase.js"></script>
<script type="module" src="app.js"></script>
</body>
</html>
