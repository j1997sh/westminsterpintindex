<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Westminster Pint Index</title>

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <!-- HEADER -->
  <header class="app-header">
    <h1 class="app-title">Westminster Pint Index</h1>
    <div class="ticker-bar">
      <span id="ticker">Loading market data...</span>
    </div>
  </header>


  <!-- MAIN CONTENT WRAPPER -->
  <main class="content">

    <!-- DATA INPUT SECTION -->
    <section class="section">
      <h2 class="section-title">â• Add Data</h2>

      <div class="input-grid">

        <!-- ADD PUB -->
        <div class="card">
          <h3 class="card-title">ğŸ›ï¸ Add Pub</h3>
          <input id="pubName" placeholder="Pub name" />
          <input id="pubAddress" placeholder="Address" />
          <button id="addPubBtn" class="btn-primary">Add Pub</button>
        </div>

        <!-- ADD PINT -->
        <div class="card">
          <h3 class="card-title">ğŸº Add Pint Type</h3>
          <input id="pintName" placeholder="Pint name" />
          <input id="pintCategory" placeholder="Category (e.g. Lager)" />
          <button id="addPintBtn" class="btn-primary">Add Pint</button>
        </div>

      </div>

      <!-- ADD PRICE -->
      <div class="card full-width">
        <h3 class="card-title">ğŸ’· Add Pint Price</h3>
        <div class="row">
          <select id="pricePubSelect"></select>
          <select id="pricePintSelect"></select>
          <input id="pintPrice" type="number" placeholder="Price (Â£)" />
        </div>
        <button id="addPriceBtn" class="btn-primary">Submit Price</button>
      </div>

    </section>



    <!-- HERO CHEAPEST -->
    <section id="hero-container" class="hero-card">
      <div id="hero-content">Loading cheapest pint...</div>
    </section>


    <!-- INDEX + POPULARITY -->
    <section class="section">

      <div class="two-col">

        <!-- PINT INDEX -->
        <div class="card">
          <h3 class="card-title">ğŸ“ˆ Pint Index</h3>
          <div id="ppiOutput" class="big-number">Â£0.00</div>
        </div>

        <!-- POPULARITY -->
        <div class="card">
          <h3 class="card-title">ğŸ”¥ Popularity</h3>
          <div id="popularityChartContainer"></div>
          <button id="expandPopularityBtn" class="btn-small">Show More â–¼</button>
        </div>

      </div>
    </section>


    <!-- LEAGUE TABLE -->
    <section class="section">
      <div class="card full-width">
        <h3 class="card-title">ğŸ“Š Market Prices (League Table)</h3>
        <table id="marketTable">
          <thead>
            <tr>
              <th>#</th><th>Pint</th><th>Pub</th><th>Â£</th>
            </tr>
          </thead>
          <tbody id="marketTableBody"></tbody>
        </table>
        <button id="expandTableBtn" class="btn-small">Show Full Table â–¼</button>
      </div>
    </section>


    <!-- ANALYTICS -->
    <section class="section">
      <h2 class="section-title">ğŸ” Pint Intelligence</h2>

      <div class="card full-width">
        <h3 class="card-title">ğŸ“‰ Price Distribution</h3>
        <div id="priceDistribution"></div>
      </div>

      <div class="card full-width">
        <h3 class="card-title">ğŸ† Top 5 Cheapest Pubs</h3>
        <div id="cheapestPubs"></div>
      </div>

      <div class="card full-width">
        <h3 class="card-title">â­ Recommended for You</h3>
        <div id="recommendations"></div>
      </div>
    </section>


    <!-- TOOLS -->
    <section class="section">

      <div class="card full-width">
        <h3 class="card-title">âš–ï¸ Compare Pints</h3>
        <select id="comparePintA"></select>
        <select id="comparePintB"></select>
        <button id="compareBtn" class="btn-primary">Compare</button>
        <div id="comparisonResult" class="result-box"></div>
      </div>

      <div class="card full-width">
        <h3 class="card-title">ğŸ’° Budget Planner</h3>
        <input id="budgetInput" type="number" placeholder="Enter Budget (Â£)" />
        <button id="budgetBtn" class="btn-primary">Calculate</button>
        <div id="budgetOutput" class="result-box"></div>
      </div>

      <div class="card full-width">
        <h3 class="card-title">ğŸŒŸ Rare Pints</h3>
        <div id="rarePints"></div>
      </div>

    </section>


    <!-- ADMIN -->
    <section class="section">
      <div id="adminLockTrigger" class="admin-link">Admin</div>

      <div id="adminLockPanel" class="card full-width" style="display:none;">
        <h3 class="card-title">ğŸ” Enter Admin Code</h3>
        <input id="adminCodeInput" placeholder="Enter admin code" />
        <button id="adminUnlockBtn" class="btn-primary">Unlock</button>
      </div>

      <div id="adminTools" class="card full-width" style="display:none;">
        <h3 class="card-title">âš ï¸ Admin Tools</h3>
        <button id="wipeAllBtn" class="btn-danger">Wipe ALL Data</button>
        <button id="wipePricesBtn" class="btn-danger">Wipe Prices Only</button>
      </div>
    </section>


  </main>


  <footer class="footer">
    Westminster Pint Index Â© 2025
  </footer>

  <!-- JS -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="app.js"></script>

</body>
</html>
